namespace rapp
{
namespace cloud
{

template <class service_class, typename... Args>
void vision_batch<service_class,Args>::insert_service(Args... args)
{
    static_assert(std::is_base_of<vision_class, service_class>::value,
                 "param must be a vision_class"); 
    auto object = service_class(args...);
    if (object.is_single_callable()) {
        throw std::runtime_error("object is single callable");
    }
    services__[object.get_name()] = object;
    http_request::add_content(service_name, object->make_parameters(), true);
}

}
}
